schema: '2.0'
stages:
  download_kaggle:
    cmd: 'python3 -c "from src.download_kaggle import download_kaggle; download_kaggle(exec_func=True)" '
    deps:
    - path: src/download_kaggle.py
      md5: 707a3a4fb225fcb31febe8ee735f35ac
      size: 617
    params:
      params.yaml:
        download_kaggle:
          dataset: datamunge/sign-language-mnist
    outs:
    - path: dataset
      md5: dce5ff47d2f83a726e773d58bc663eee.dir
      size: 210857086
      nfiles: 7
  DataPreprocessor:
    cmd: "python3 -c \"from src.DataPreprocessor import DataPreprocessor; DataPreprocessor.load(name='DataPreprocessor').run_and_save()\"\
      \ "
    deps:
    - path: dataset
      md5: dce5ff47d2f83a726e773d58bc663eee.dir
      size: 210857086
      nfiles: 7
    - path: src/DataPreprocessor.py
      md5: e9b6688f2803365405829628ab3efcdd
      size: 1609
    params:
      params.yaml:
        DataPreprocessor:
          dataset: sign_mnist_train
    outs:
    - path: nodes/DataPreprocessor/outs.json
      md5: 91bf7e1e8916a86ada5cccd6cfe0acf1
      size: 233258180
  data_preprocess_test:
    cmd: "python3 -c \"from src.DataPreprocessor import DataPreprocessor; DataPreprocessor.load(name='data_preprocess_test').run_and_save()\"\
      \ "
    deps:
    - path: dataset
      md5: dce5ff47d2f83a726e773d58bc663eee.dir
      size: 210857086
      nfiles: 7
    - path: src/DataPreprocessor.py
      md5: e9b6688f2803365405829628ab3efcdd
      size: 1609
    params:
      params.yaml:
        data_preprocess_test:
          dataset: sign_mnist_test
    outs:
    - path: nodes/data_preprocess_test/outs.json
      md5: 5eb9c135aeb36ebe84979901c29d648f
      size: 60933812
  MLModel:
    cmd: "python3 -c \"from src.MLModel import MLModel; MLModel.load(name='MLModel').run_and_save()\"\
      \ "
    deps:
    - path: nodes/DataPreprocessor/outs.json
      md5: 91bf7e1e8916a86ada5cccd6cfe0acf1
      size: 233258180
    - path: src/MLModel.py
      md5: 5153c6fa70dd3551ed5867352f90c027
      size: 4646
    params:
      params.yaml:
        MLModel:
          dense:
          - 64
          epochs: 3
          filters:
          - 64
          - 64
    outs:
    - path: nodes/MLModel/metrics_no_cache.json
      md5: 4c3a03d07c6fe92079f11f8bbdd8f306
      size: 186
    - path: nodes/MLModel/model
      md5: 9306ef4e6e55efc1ab7be3f35ea33a74.dir
      size: 9780670
      nfiles: 4
    - path: nodes/MLModel/training_history.csv
      md5: bb3539f949e8e33433a35f705e02cbd1
      size: 275
  EvaluateModel:
    cmd: "python3 -c \"from src.EvaluateModel import EvaluateModel; EvaluateModel.load(name='EvaluateModel').run_and_save()\"\
      \ "
    deps:
    - path: nodes/MLModel/metrics_no_cache.json
      md5: 4c3a03d07c6fe92079f11f8bbdd8f306
      size: 186
    - path: nodes/MLModel/model
      md5: 9306ef4e6e55efc1ab7be3f35ea33a74.dir
      size: 9780670
      nfiles: 4
    - path: nodes/MLModel/training_history.csv
      md5: bb3539f949e8e33433a35f705e02cbd1
      size: 275
    - path: nodes/data_preprocess_test/outs.json
      md5: 5eb9c135aeb36ebe84979901c29d648f
      size: 60933812
    - path: src/EvaluateModel.py
      md5: 9a684d1cc880e889757f0f3d844a673f
      size: 5335
    outs:
    - path: nodes/EvaluateModel/confusion_matrix.csv
      md5: 93f7d8f307b5d050c0b5ad64c5d9016f
      size: 71790
    - path: nodes/EvaluateModel/metrics_no_cache.json
      md5: c1a53d3a4934ca2121734346b3710f39
      size: 101
